---
const { selector, duration = 3000, message = '¡Acción exitosa!' } = Astro.props;
const uniqueId = Math.random().toString(36).substring(2, 15);
---
<div id={`toast_${uniqueId}`} class="fixed bottom-5 right-0 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 ease-in-out z-50">
    {message}
</div>


<script define:vars={{ selector, uniqueId, duration }}>
    const btn = document.querySelector(`#${selector}`);
    const toast = document.querySelector(`#toast_${uniqueId}`);

    btn?.addEventListener('click', () => {
        toast.style.opacity = 1;
        setTimeout(() => {
            toast.style.opacity = 0;
        }, duration);
    });
</script>