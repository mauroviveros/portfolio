---
import Section from "@components/Section.astro";
import Button from "@components/Button.astro";
import Icons from "@components/icons";

const SendIcon = Icons.send;
const CopyIcon = Icons.copy;
---
<Section title="Contáctame" icon="mailForward">
    <p class="text-2xl font-medium text-center text-pretty text-slate-600 max-w-lg mx-auto my-10">Mi correo está abierto a nuevas oportunidades… Si tenés algo en mente, mandá un mail y lo charlamos.</p>

    <article class="flex justify-center items-center gap-2 max-w-sm mx-auto">
        <span id="portfolio_email" class="flex-1 p-2 rounded-lg text-slate-800 bg-zinc-200 border border-zinc-300 truncate">maurod.viveros@gmail.com</span>
        <Button href="mailto:maurod.viveros@gmail.com" label="Enviar mail" type="flat">
            <SendIcon/>
        </Button>
        <Button id="btn_copy" label="Enviar mail" type="flat" elementType="button">
            <CopyIcon/>
        </Button>
    </article>
</Section>

<script>
    const copyToClipboard = () => {
        const email = document.querySelector('#portfolio_email')?.textContent || '';
        navigator.clipboard.writeText(email);
    };

    document.querySelector('#btn_copy')?.addEventListener('click', () => {
        copyToClipboard();
    });
</script>